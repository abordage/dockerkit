# =============================================================================
# General
# =============================================================================
PROJECT_NAME=dockerkit
PROJECT_SUFFIX=84
COMPOSE_PROJECT_NAME="${PROJECT_NAME}-${PROJECT_SUFFIX}"

DEFAULT_USER="${PROJECT_NAME}"
DEFAULT_PASSWORD="${PROJECT_NAME}"

# =============================================================================
# Services
# =============================================================================
ENABLE_NGINX=1
ENABLE_PHP_FPM=1
ENABLE_WORKSPACE=1

ENABLE_POSTGRES=1
ENABLE_MYSQL=0
ENABLE_MONGODB=0
ENABLE_REDIS=1

ENABLE_RABBITMQ=1
ENABLE_ELASTICSEARCH=1
ENABLE_DEJAVU=1
ENABLE_MINIO=1
ENABLE_MAILPIT=1
ENABLE_PORTAINER=1

# =============================================================================
# Host
# =============================================================================
HOST_APP_PATH=../
HOST_LOGS_PATH=./logs
HOST_DATA_PATH="$HOME/.${COMPOSE_PROJECT_NAME}/data"

PHP_IDE_CONFIG="serverName=${COMPOSE_PROJECT_NAME}"

# =============================================================================
# Container
# =============================================================================
APP_PATH=/var/www
APP_PATH_FLAG=:cached

APP_USER="${PROJECT_NAME}"
APP_GROUP="${PROJECT_NAME}"

APP_UID=1000
APP_GID=1000

TZ=UTC

# =============================================================================
# PHP
# =============================================================================
PHP_VERSION=8.4

INSTALL_AMQP=true
INSTALL_AST=true
INSTALL_MONGO=false
INSTALL_PCOV=true

INSTALL_XDEBUG=false
XDEBUG_PORT=9003

# =============================================================================
# WORKSPACE
# =============================================================================
# https://github.com/shinsenter/php
# https://hub.docker.com/r/shinsenter/php/tags
INSTALL_MYSQL_CLIENT=false
INSTALL_POSTGRES_CLIENT=true

INSTALL_NODE=true
NODE_VERSION=22

INSTALL_VACUUM=true
INSTALL_OPENAPI_GENERATOR=true

BROWSERSYNC_HOST_PORT=3000
BROWSERSYNC_UI_HOST_PORT=3001
VITE_PORT=5173

ENABLE_NON_ROOT_USER=true

# =============================================================================
# NGINX
# =============================================================================
# https://hub.docker.com/_/nginx/tags
NGINX_VERSION=1.28.0-alpine

# =============================================================================
# POSTGRES
# =============================================================================
# https://github.com/postgres/postgres
# https://hub.docker.com/_/postgres/tags
POSTGRES_VERSION=17
POSTGRES_CLIENT_VERSION=15
POSTGRES_DB=default
POSTGRES_USER="${DEFAULT_USER}"
POSTGRES_PASSWORD="${DEFAULT_PASSWORD}"
POSTGRES_PORT=5432
POSTGRES_ENTRYPOINT_INITDB=./postgres/docker-entrypoint-initdb.d

# =============================================================================
# MYSQL
# =============================================================================
# https://hub.docker.com/_/mysql/tags
MYSQL_VERSION=8.4.5
MYSQL_DATABASE=default
MYSQL_USER="${DEFAULT_USER}"
MYSQL_PASSWORD="${DEFAULT_PASSWORD}"
MYSQL_PORT=3306
MYSQL_ROOT_PASSWORD=root
MYSQL_ENTRYPOINT_INITDB=./mysql/docker-entrypoint-initdb.d

# =============================================================================
# MONGODB
# =============================================================================
# https://github.com/mongodb/mongo
# https://hub.docker.com/_/mongo/tags
MONGODB_VERSION=8.0
MONGODB_PORT=27017
MONGO_USERNAME="${DEFAULT_USER}"
MONGO_PASSWORD="${DEFAULT_PASSWORD}"

# =============================================================================
# REDIS
# =============================================================================
# https://github.com/redis/redis
# https://hub.docker.com/_/redis/tags
REDIS_VERSION=8.0.2
REDIS_PORT=6379
REDIS_PASSWORD="${DEFAULT_PASSWORD}"

# =============================================================================
# RABBITMQ
# =============================================================================
# https://github.com/rabbitmq/rabbitmq-server
# https://hub.docker.com/_/rabbitmq/tags
RABBITMQ_VERSION=4.1.1-management-alpine
RABBITMQ_DEFAULT_USER="${DEFAULT_USER}"
RABBITMQ_DEFAULT_PASS="${DEFAULT_PASSWORD}"
RABBITMQ_ERLANG_COOKIE=secret-cookie
RABBITMQ_NODE_HOST_PORT=5672
RABBITMQ_MANAGEMENT_HTTP_HOST_PORT=15672
RABBITMQ_MANAGEMENT_HTTPS_HOST_PORT=15671
RABBITMQ_WEB_STOMP_HOST_PORT=15674

# =============================================================================
# ELASTICSEARCH
# =============================================================================
# https://github.com/elastic/elasticsearch
# https://hub.docker.com/_/elasticsearch
ELASTICSEARCH_VERSION=8.15.1
ELASTICSEARCH_HOST_HTTP_PORT=9200
ELASTICSEARCH_LOG_LEVEL=WARN
ELASTICSEARCH_CACHE_SIZE=20%
ELASTICSEARCH_CLUSTER_NAME="${PROJECT_NAME}-cluster"
ELASTICSEARCH_NODE_NAME="${PROJECT_NAME}-node"
ELASTICSEARCH_REFRESH_INTERVAL=30s

# =============================================================================
# DEJAVU
# =============================================================================
# https://github.com/appbaseio/dejavu
# https://hub.docker.com/r/appbaseio/dejavu/tags
DEJAVU_VERSION=3.8.3
DEJAVU_HTTP_PORT=1358

# =============================================================================
# MINIO
# =============================================================================
# https://github.com/minio/minio
# https://hub.docker.com/r/minio/minio/tags
MINIO_VERSION=latest
MINIO_PORT=9002
MINIO_CONSOLE_PORT=9001
MINIO_ROOT_USER="${DEFAULT_USER}"
MINIO_ROOT_PASSWORD="${DEFAULT_PASSWORD}"

# MinIO Automatic Bucket Creation Configuration
MINIO_CREATE_BUCKETS=true

# Bucket Groups by Access Policy
MINIO_BUCKETS_PUBLIC=documents,shared
MINIO_BUCKETS_UPLOAD=uploads,forms
MINIO_BUCKETS_DOWNLOAD=media,assets
MINIO_BUCKETS_PRIVATE=backups,logs

# Additional Configuration
MINIO_INIT_WAIT_TIME=10
MINIO_ENABLE_VERSIONING=false

# =============================================================================
# Mailpit
# =============================================================================
# https://github.com/axllent/mailpit
# https://hub.docker.com/r/axllent/mailpit/tags
MAILPIT_VERSION=v1.26
MAILPIT_HTTP_PORT=8125
MAILPIT_SMTP_PORT=1125

# =============================================================================
# Portainer
# =============================================================================
# https://github.com/portainer/portainer
# https://hub.docker.com/r/portainer/portainer-ce/tags
PORTAINER_VERSION=2.31.0-alpine
PORTAINER_PORT=9010
