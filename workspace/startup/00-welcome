#!/bin/bash

# Enable strict error handling
set -euo pipefail

# Output formatting functions
log_info() {
    echo "$*"
}

log_success() {
    echo "✓ $*"
}

# Function to display DockerKit logo
show_dockerkit_logo() {
    cat << 'EOF'
$$$$$$$\                      $$\                           $$\   $$\ $$\   $$\
$$  __$$\                     $$ |                          $$ | $$  |\__|  $$ |
$$ |  $$ | $$$$$$\   $$$$$$$\ $$ |  $$\  $$$$$$\   $$$$$$\  $$ |$$  / $$\ $$$$$$\
$$ |  $$ |$$  __$$\ $$  _____|$$ | $$  |$$  __$$\ $$  __$$\ $$$$$  /  $$ |\_$$  _|
$$ |  $$ |$$ /  $$ |$$ /      $$$$$$  / $$$$$$$$ |$$ |  \__|$$  $$<   $$ |  $$ |
$$ |  $$ |$$ |  $$ |$$ |      $$  _$$<  $$   ____|$$ |      $$ |\$$\  $$ |  $$ |$$\
$$$$$$$  |\$$$$$$  |\$$$$$$$\ $$ | \$$\ \$$$$$$$\ $$ |      $$ | \$$\ $$ |  \$$$$  |
\_______/  \______/  \_______|\__|  \__| \_______|\__|      \__|  \__|\__|   \____/
EOF
}

# Function to show system status
show_system_status() {
    echo
    log_info "System Status:"
    log_info "    ├─ PHP         → $(php -v 2>/dev/null | head -n1 | cut -d' ' -f2 || echo 'Loading...')"
    log_info "    ├─ Composer    → $(composer --version 2>/dev/null | cut -d' ' -f3 || echo 'Loading...')"
    log_info "    └─ Node.js     → $(node -v 2>/dev/null || echo 'Not installed')"
    echo
}

# Main execution
main() {
    # Clear screen for clean welcome display
    clear

    # Show DockerKit logo
    show_dockerkit_logo

    # Show system status
    show_system_status

    # Final success message
    log_success "Development environment ready! Happy coding!"
    echo
}

# Execute main function
main
